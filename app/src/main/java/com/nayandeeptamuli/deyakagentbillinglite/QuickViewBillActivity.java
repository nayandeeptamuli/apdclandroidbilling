package com.nayandeeptamuli.apdclandroidbilling;

import android.app.ProgressDialog;
import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.Bitmap.CompressFormat;
import android.graphics.drawable.BitmapDrawable;
import android.net.Uri;
import android.os.AsyncTask;
import android.os.Bundle;
import android.os.Handler;
import android.support.v7.app.AppCompatActivity;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.TableLayout;
import android.widget.TextView;
import android.widget.Toast;
import com.itextpdf.awt.PdfGraphics2D;
import com.itextpdf.text.Anchor;
import com.itextpdf.text.Document;
import com.itextpdf.text.Element;
import com.itextpdf.text.Font;
import com.itextpdf.text.FontFactory;
import com.itextpdf.text.Image;
import com.itextpdf.text.PageSize;
import com.itextpdf.text.Paragraph;
import com.itextpdf.text.Phrase;
import com.itextpdf.text.html.HtmlUtilities;
import com.itextpdf.text.pdf.BaseField;
import com.itextpdf.text.pdf.PdfPCell;
import com.itextpdf.text.pdf.PdfPTable;
import com.itextpdf.text.pdf.PdfWriter;
import java.io.BufferedReader;
import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.FileOutputStream;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import org.apache.http.Header;
import org.apache.http.HttpEntity;
import org.apache.http.HttpHeaders;
import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.entity.StringEntity;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.message.BasicHeader;
import org.apdcl.util.UtilHelper;

public class QuickViewBillActivity extends AppCompatActivity {
    EditText input_conid;
    EditText input_install;
    Intent intent;

    class CheckConsumerExecuteTask extends AsyncTask<String, Integer, String> {
        ProgressDialog progressDialog = null;

        CheckConsumerExecuteTask() {
        }

        protected void onPreExecute() {
            super.onPreExecute();
            this.progressDialog = ProgressDialog.show(QuickViewBillActivity.this, "Fetching Details...", "Please wait...", false, true);
        }

        protected String doInBackground(String... params) {
            return QuickViewBillActivity.this.checkConsumer(params);
        }

        protected void onPostExecute(String result) {
            this.progressDialog.dismiss();
            ((TableLayout) QuickViewBillActivity.this.findViewById(R.id.view_bill_table)).setVisibility(0);
            QuickViewBillActivity.this.findViewById(R.id.tr_0).setVisibility(0);
            QuickViewBillActivity.this.findViewById(R.id.tr_1).setVisibility(0);
            QuickViewBillActivity.this.findViewById(R.id.tr_2).setVisibility(0);
            QuickViewBillActivity.this.findViewById(R.id.tr_3).setVisibility(0);
            QuickViewBillActivity.this.findViewById(R.id.tr_4).setVisibility(0);
            QuickViewBillActivity.this.findViewById(R.id.tr_5).setVisibility(0);
            QuickViewBillActivity.this.findViewById(R.id.tr_6).setVisibility(0);
            if (result.equalsIgnoreCase("Invalid")) {
                ((TableLayout) QuickViewBillActivity.this.findViewById(R.id.view_bill_table)).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_0).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_1).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_2).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_3).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_4).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_5).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_6).setVisibility(8);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.link_error)).setText("No Details available in the System.");
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.link_error)).setVisibility(0);
                return;
            }
            ((Button) QuickViewBillActivity.this.findViewById(R.id.btn_submit)).setVisibility(8);
            ((TextView) QuickViewBillActivity.this.findViewById(R.id.link_error)).setText("Quick View Bill");
            ((TextView) QuickViewBillActivity.this.findViewById(R.id.link_error)).setVisibility(0);
            String[] billingDetails = result.split("#");
            if (billingDetails.length == 4) {
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID1)).setText(billingDetails[0]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate1)).setText(billingDetails[1]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt1)).setText(billingDetails[2]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_1)).setText(billingDetails[3]);
                QuickViewBillActivity.this.findViewById(R.id.tr_1).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_2).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_3).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_4).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_5).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_6).setVisibility(8);
            } else if (billingDetails.length == 8) {
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID1)).setText(billingDetails[0]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate1)).setText(billingDetails[1]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt1)).setText(billingDetails[2]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_1)).setText(billingDetails[3]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID2)).setText(billingDetails[4]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate2)).setText(billingDetails[5]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt2)).setText(billingDetails[6]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_2)).setText(billingDetails[7]);
                QuickViewBillActivity.this.findViewById(R.id.tr_1).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_2).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_3).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_4).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_5).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_6).setVisibility(8);
            } else if (billingDetails.length == 12) {
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID1)).setText(billingDetails[0]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate1)).setText(billingDetails[1]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt1)).setText(billingDetails[2]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_1)).setText(billingDetails[3]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID2)).setText(billingDetails[4]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate2)).setText(billingDetails[5]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt2)).setText(billingDetails[6]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_2)).setText(billingDetails[7]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID3)).setText(billingDetails[8]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate3)).setText(billingDetails[9]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt3)).setText(billingDetails[10]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_3)).setText(billingDetails[11]);
                QuickViewBillActivity.this.findViewById(R.id.tr_1).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_2).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_3).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_4).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_5).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_6).setVisibility(8);
            } else if (billingDetails.length == 16) {
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID1)).setText(billingDetails[0]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate1)).setText(billingDetails[1]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt1)).setText(billingDetails[2]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_1)).setText(billingDetails[3]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID2)).setText(billingDetails[4]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate2)).setText(billingDetails[5]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt2)).setText(billingDetails[6]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_2)).setText(billingDetails[7]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID3)).setText(billingDetails[8]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate3)).setText(billingDetails[9]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt3)).setText(billingDetails[10]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_3)).setText(billingDetails[11]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID4)).setText(billingDetails[12]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate4)).setText(billingDetails[13]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt4)).setText(billingDetails[14]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_4)).setText(billingDetails[15]);
                QuickViewBillActivity.this.findViewById(R.id.tr_1).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_2).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_3).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_4).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_5).setVisibility(8);
                QuickViewBillActivity.this.findViewById(R.id.tr_6).setVisibility(8);
            } else if (billingDetails.length == 20) {
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID1)).setText(billingDetails[0]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate1)).setText(billingDetails[1]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt1)).setText(billingDetails[2]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_1)).setText(billingDetails[3]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID2)).setText(billingDetails[4]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate2)).setText(billingDetails[5]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt2)).setText(billingDetails[6]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_2)).setText(billingDetails[7]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID3)).setText(billingDetails[8]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate3)).setText(billingDetails[9]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt3)).setText(billingDetails[10]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_3)).setText(billingDetails[11]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID4)).setText(billingDetails[12]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate4)).setText(billingDetails[13]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt4)).setText(billingDetails[14]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_4)).setText(billingDetails[15]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID5)).setText(billingDetails[16]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate5)).setText(billingDetails[17]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt5)).setText(billingDetails[18]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_5)).setText(billingDetails[19]);
                QuickViewBillActivity.this.findViewById(R.id.tr_1).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_2).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_3).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_4).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_5).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_6).setVisibility(8);
            } else if (billingDetails.length == 24) {
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID1)).setText(billingDetails[0]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate1)).setText(billingDetails[1]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt1)).setText(billingDetails[2]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_1)).setText(billingDetails[3]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID2)).setText(billingDetails[4]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate2)).setText(billingDetails[5]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt2)).setText(billingDetails[6]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_2)).setText(billingDetails[7]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID3)).setText(billingDetails[8]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate3)).setText(billingDetails[9]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt3)).setText(billingDetails[10]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_3)).setText(billingDetails[11]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID4)).setText(billingDetails[12]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate4)).setText(billingDetails[13]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt4)).setText(billingDetails[14]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_4)).setText(billingDetails[15]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID5)).setText(billingDetails[16]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate5)).setText(billingDetails[17]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt5)).setText(billingDetails[18]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_5)).setText(billingDetails[19]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID6)).setText(billingDetails[20]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceDate6)).setText(billingDetails[21]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceAmnt6)).setText(billingDetails[22]);
                ((TextView) QuickViewBillActivity.this.findViewById(R.id.dueDate_6)).setText(billingDetails[23]);
                QuickViewBillActivity.this.findViewById(R.id.tr_1).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_2).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_3).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_4).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_5).setVisibility(0);
                QuickViewBillActivity.this.findViewById(R.id.tr_6).setVisibility(0);
            }
            ((ImageView) QuickViewBillActivity.this.findViewById(R.id.create_pdf_1)).setOnClickListener(new OnClickListener() {
                public void onClick(View v) {
                    String invoiceId = ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID1)).getText().toString();
                    QuickViewBillActivity.this.pdfgen(((EditText) QuickViewBillActivity.this.findViewById(R.id.input_conid)).getText().toString(), invoiceId);
                }
            });
            ((ImageView) QuickViewBillActivity.this.findViewById(R.id.create_pdf_2)).setOnClickListener(new OnClickListener() {
                public void onClick(View v) {
                    String invoiceId = ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID2)).getText().toString();
                    QuickViewBillActivity.this.pdfgen(((EditText) QuickViewBillActivity.this.findViewById(R.id.input_conid)).getText().toString(), invoiceId);
                }
            });
            ((ImageView) QuickViewBillActivity.this.findViewById(R.id.create_pdf_3)).setOnClickListener(new OnClickListener() {
                public void onClick(View v) {
                    String invoiceId = ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID3)).getText().toString();
                    QuickViewBillActivity.this.pdfgen(((EditText) QuickViewBillActivity.this.findViewById(R.id.input_conid)).getText().toString(), invoiceId);
                }
            });
            ((ImageView) QuickViewBillActivity.this.findViewById(R.id.create_pdf_4)).setOnClickListener(new OnClickListener() {
                public void onClick(View v) {
                    String invoiceId = ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID4)).getText().toString();
                    QuickViewBillActivity.this.pdfgen(((EditText) QuickViewBillActivity.this.findViewById(R.id.input_conid)).getText().toString(), invoiceId);
                }
            });
            ((ImageView) QuickViewBillActivity.this.findViewById(R.id.create_pdf_5)).setOnClickListener(new OnClickListener() {
                public void onClick(View v) {
                    String invoiceId = ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID5)).getText().toString();
                    QuickViewBillActivity.this.pdfgen(((EditText) QuickViewBillActivity.this.findViewById(R.id.input_conid)).getText().toString(), invoiceId);
                }
            });
            ((ImageView) QuickViewBillActivity.this.findViewById(R.id.create_pdf_6)).setOnClickListener(new OnClickListener() {
                public void onClick(View v) {
                    String invoiceId = ((TextView) QuickViewBillActivity.this.findViewById(R.id.invoiceID6)).getText().toString();
                    QuickViewBillActivity.this.pdfgen(((EditText) QuickViewBillActivity.this.findViewById(R.id.input_conid)).getText().toString(), invoiceId);
                }
            });
        }
    }

    class ExecuteTask extends AsyncTask<String, Integer, String> {
        ProgressDialog progressDialog = null;

        ExecuteTask() {
        }

        protected void onPreExecute() {
            super.onPreExecute();
            this.progressDialog = ProgressDialog.show(QuickViewBillActivity.this, "Generating Bill", "Please wait...", false, true);
        }

        protected String doInBackground(String... params) {
            return QuickViewBillActivity.this.PostData(params);
        }

        protected void onPostExecute(String result) {
            Toast.makeText(QuickViewBillActivity.this.getApplicationContext(), "PDF generated in your Download folder", 0).show();
            this.progressDialog.dismiss();
        }
    }

    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView((int) R.layout.activity_quick_view_bill);
        ((TextView) findViewById(R.id.link_error)).setVisibility(0);
        ((TextView) findViewById(R.id.link_error)).setText("Quick View Bill");
        ((TableLayout) findViewById(R.id.view_bill_table)).setVisibility(8);
        this.input_conid = (EditText) findViewById(R.id.input_conid);
        this.input_install = (EditText) findViewById(R.id.input_install);
        this.input_install.setVisibility(8);
        this.input_conid.addTextChangedListener(new TextWatcher() {
            public void beforeTextChanged(CharSequence s, int start, int count, int after) {
            }

            public void onTextChanged(CharSequence s, int start, int before, int count) {
                String input_conid = ((EditText) QuickViewBillActivity.this.findViewById(R.id.input_conid)).getText().toString();
                System.out.println(input_conid.length());
                if (input_conid.length() == 11) {
                    ((EditText) QuickViewBillActivity.this.findViewById(R.id.input_install)).setVisibility(0);
                } else {
                    ((EditText) QuickViewBillActivity.this.findViewById(R.id.input_install)).setVisibility(8);
                }
            }

            public void afterTextChanged(Editable s) {
            }
        });
        ((Button) findViewById(R.id.btn_submit)).setOnClickListener(new OnClickListener() {
            public void onClick(View view) {
                if (!QuickViewBillActivity.this.validate()) {
                    return;
                }
                if (QuickViewBillActivity.this.input_conid.getText().length() == 11) {
                    new CheckConsumerExecuteTask().execute(new String[]{((EditText) QuickViewBillActivity.this.findViewById(R.id.input_conid)).getText().toString(), ((EditText) QuickViewBillActivity.this.findViewById(R.id.input_install)).getText().toString()});
                    return;
                }
                new CheckConsumerExecuteTask().execute(new String[]{((EditText) QuickViewBillActivity.this.findViewById(R.id.input_conid)).getText().toString(), "NA"});
            }
        });
    }

    public String checkConsumer(String[] params) {
        String s = "";
        String outputString = "";
        try {
            String encPass = new UtilHelper().encrypt(params[1]);
            HttpClient httpClient = new DefaultHttpClient();
            HttpPost httpPost = new HttpPost("http://www.nayandeeptamuli.com/BillviewServiceService/BillviewService?wsdl");
            httpPost.setHeader(HttpHeaders.ACCEPT, "text/xml; charset=utf-8");
            httpPost.setHeader("Content-type", "text/xml; charset=utf-8");
            String reqXML = "";
            StringEntity se = new StringEntity("<?xml version=\"1.0\" encoding=\"utf-8\"?><SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"><SOAP-ENV:Body><yq1:checkConsumerstatus xmlns:yq1=\"http://nayandeeptamuli.com/BillView/\"><arg0>" + params[0] + "</arg0>" + "<arg1>" + params[1] + "</arg1>" + "</yq1:checkConsumerstatus>" + " </SOAP-ENV:Body>" + "</SOAP-ENV:Envelope>");
            se.setContentEncoding(new BasicHeader("Content-Type", "application/json"));
            httpPost.setEntity(se);
            HttpResponse httpResponse = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponse.getEntity();
            outputString = readResponse(httpResponse);
            System.out.println(outputString);
            String[] consumerDetails = outputString.replaceAll("</return>", "").split("<return>");
            System.out.println(consumerDetails[1]);
            outputString = "";
            if (consumerDetails.length <= 0 || consumerDetails[1].indexOf("Valid") == -1) {
                outputString = "Invalid";
            } else {
                ArrayList<String> billingDetails = fetchBillDetails(params[0]);
                int i;
                if (billingDetails.size() > 24) {
                    for (i = 0; i < 24; i += 4) {
                        outputString = outputString + ((String) billingDetails.get(i)) + "#" + ((String) billingDetails.get(i + 1)) + "#" + ((String) billingDetails.get(i + 2)) + "#" + ((String) billingDetails.get(i + 3)) + "#";
                    }
                } else {
                    for (i = 0; i < billingDetails.size(); i += 4) {
                        outputString = outputString + ((String) billingDetails.get(i)) + "#" + ((String) billingDetails.get(i + 1)) + "#" + ((String) billingDetails.get(i + 2)) + "#" + ((String) billingDetails.get(i + 3)) + "#";
                    }
                }
                outputString = outputString.substring(0, outputString.length());
            }
            return outputString;
        } catch (Exception ex) {
            ex.printStackTrace();
            return "F";
        }
    }

    public String readResponse(HttpResponse res) {
        String return_text = "";
        try {
            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(res.getEntity().getContent()));
            String line = "";
            StringBuffer sb = new StringBuffer();
            while (true) {
                line = bufferedReader.readLine();
                if (line == null) {
                    break;
                }
                sb.append(line);
            }
            return_text = sb.toString();
        } catch (Exception ex) {
            ex.printStackTrace();
        }
        return return_text;
    }

    public ArrayList<String> fetchBillDetails(String conId) {
        Exception ex;
        String s = "";
        ArrayList<String> billDetails = new ArrayList();
        try {
            HttpClient httpClient = new DefaultHttpClient();
            HttpPost httpPost = new HttpPost("http://www.nayandeeptamuli.com/BillviewServiceService/BillviewService?wsdl");
            HttpPost httpPost2;
            try {
                httpPost.setHeader(HttpHeaders.ACCEPT, "text/xml; charset=utf-8");
                httpPost.setHeader("Content-type", "text/xml; charset=utf-8");
                String reqXML = "";
                StringEntity se = new StringEntity("<?xml version=\"1.0\" encoding=\"utf-8\"?><SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"><SOAP-ENV:Body><yq1:viewbillDetails xmlns:yq1=\"http://nayandeeptamuli.com/BillView/\"><consumerId>" + conId + "</consumerId>" + "</yq1:viewbillDetails>" + "</SOAP-ENV:Body>" + "</SOAP-ENV:Envelope>");
                se.setContentEncoding((Header) new BasicHeader("Content-Type", "application/json"));
                httpPost.setEntity(se);
                HttpResponse httpResponse = httpClient.execute(httpPost);
                HttpEntity httpEntity = httpResponse.getEntity();
                s = readResponse(httpResponse);
                System.out.println(s);
                if (s.indexOf("return") > 0) {
                    String[] stArr = s.substring(s.indexOf("<return"), s.lastIndexOf("</return>")).split("</return>");
                    String[] consumerDetails = new String[stArr.length];
                    int i = -1;
                    for (String st : stArr) {
                        i++;
                        consumerDetails[i] = st.substring(st.indexOf(62) + 1).trim();
                        System.out.println(consumerDetails[i]);
                    }
                    System.out.println(consumerDetails);
                    System.out.println("***********************");
                    int count = 0;
                    if (consumerDetails.length > 27) {
                        System.out.println(consumerDetails[0] + " first");
                        for (i = 0; i < 28; i += 4) {
                            billDetails.add(consumerDetails[i]);
                            if (conId.trim().length() == 11) {
                                billDetails.add(new SimpleDateFormat("dd.MM.yyyy").format(new Date(consumerDetails[i + 1])));
                            } else {
                                billDetails.add(consumerDetails[i + 1]);
                            }
                            billDetails.add(consumerDetails[i + 2]);
                            if (i + 3 != consumerDetails.length) {
                                billDetails.add(consumerDetails[i + 3]);
                            } else {
                                billDetails.add(consumerDetails[i + 3].substring(0, consumerDetails[i + 3].indexOf(60)));
                            }
                            count++;
                        }
                    } else {
                        for (i = 0; i < consumerDetails.length; i += 4) {
                            billDetails.add(consumerDetails[i]);
                            if (conId.trim().length() == 11) {
                                billDetails.add(new SimpleDateFormat("dd.MM.yyyy").format(new Date(consumerDetails[i + 1])));
                            } else {
                                billDetails.add(consumerDetails[i + 1]);
                            }
                            billDetails.add(consumerDetails[i + 2]);
                            if (i + 3 != consumerDetails.length) {
                                billDetails.add(consumerDetails[i + 3]);
                            } else {
                                billDetails.add(consumerDetails[i + 3].substring(0, consumerDetails[i + 3].indexOf(60)));
                            }
                            count++;
                        }
                    }
                }
                httpPost2 = httpPost;
            } catch (Exception e) {
                ex = e;
                httpPost2 = httpPost;
            }
        } catch (Exception e2) {
            ex = e2;
            ex.printStackTrace();
            return billDetails;
        }
        return billDetails;
    }

    public void pdfgen(String conId, String invoiceId) {
        new ExecuteTask().execute(new String[]{conId, invoiceId});
    }

    public String PostData(String[] params) {
        String outputString = "";
        String responseString = "";
        try {
            HttpClient httpClient = new DefaultHttpClient();
            HttpPost httpPost = new HttpPost("http://www.nayandeeptamuli.com/BillviewServiceService/BillviewService?wsdl");
            httpPost.setHeader(HttpHeaders.ACCEPT, "text/xml; charset=utf-8");
            httpPost.setHeader("Content-type", "text/xml; charset=utf-8");
            String reqXML = "";
            StringEntity se = new StringEntity("<?xml version=\"1.0\" encoding=\"utf-8\"?><SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"><SOAP-ENV:Body><yq1:createBill xmlns:yq1=\"http://nayandeeptamuli.com/BillView/\"><invoiceId>" + params[1] + "</invoiceId>" + "<consumerId>" + params[0] + "</consumerId>" + " </yq1:createBill>" + "</SOAP-ENV:Body>" + "</SOAP-ENV:Envelope>");
            se.setContentEncoding(new BasicHeader("Content-Type", "application/json"));
            httpPost.setEntity(se);
            HttpResponse httpResponse = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponse.getEntity();
            outputString = readResponse(httpResponse);
            System.out.println(outputString);
            String[] consumerDetails = outputString.replaceAll("</return>", "").split("<return>");
            System.out.println(consumerDetails[1]);
            responseString = consumerDetails[1];
            if (!consumerDetails[1].contains("#")) {
                Intent intent = new Intent();
                intent.setAction("android.intent.action.VIEW");
                intent.addCategory("android.intent.category.BROWSABLE");
                intent.setData(Uri.parse(consumerDetails[1].substring(0, consumerDetails[1].lastIndexOf(".pdf") + 4)));
                startActivity(intent);
            } else if (consumerDetails[1].startsWith("TOD")) {
                generateTODBill(consumerDetails[1].substring(0, consumerDetails[1].indexOf("<")));
            } else {
                generateNTODBill(consumerDetails[1].substring(0, consumerDetails[1].indexOf("<")));
            }
        } catch (Exception ex) {
            ex.printStackTrace();
        }
        return responseString;
    }

    public void generateTODBill(String todBilldataSet) {
        Exception ex;
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat("ddMMyyyy");
        simpleDateFormat = new SimpleDateFormat("dd/MM/yyyy");
        Date date = new Date();
        String[] todBilldatalist = todBilldataSet.split("#");
        String type = todBilldatalist[0];
        String billNumber = todBilldatalist[1];
        String consumerNumer = todBilldatalist[2];
        String NameOfSubDivision = todBilldatalist[3];
        String OldConsumerNo = todBilldatalist[4];
        String BillNo = todBilldatalist[5];
        String DateOfBill = todBilldatalist[6];
        String DueDate = todBilldatalist[7];
        String CosnumerNo = todBilldatalist[8];
        String PeriodOfBillFrom = todBilldatalist[9];
        String PeriodOfBillTo = todBilldatalist[10];
        String NameOfConsumer = todBilldatalist[11];
        String NoOfDays = todBilldatalist[12];
        String Address = todBilldatalist[13];
        String MeterNo = todBilldatalist[14];
        String ConnectedLoadInKw = todBilldatalist[15];
        String ContractedDemandInKwKVA = todBilldatalist[16];
        String Category = todBilldatalist[17];
        String OverallMF = todBilldatalist[18];
        String MdAsPerMeterReadingKVA = todBilldatalist[19];
        String NormalKWhE1Present = todBilldatalist[20];
        String NormalKWhE1Previous = todBilldatalist[21];
        String NormalKWhE1Difference = todBilldatalist[22];
        String PeakKWhE2Present = todBilldatalist[23];
        String PeakKWhE2Previous = todBilldatalist[24];
        String PeakKWhE2Difference = todBilldatalist[25];
        String NightKWhE3Present = todBilldatalist[26];
        String NightKWhE3Previous = todBilldatalist[27];
        String NightKWhE3Difference = todBilldatalist[28];
        String TotalKWhUPresent = todBilldatalist[29];
        String TotalKWhUPrevious = todBilldatalist[30];
        String TotalKWhUDifference = todBilldatalist[31];
        String TotalKVAhAPresent = todBilldatalist[32];
        String TotalKVAhAPrevious = todBilldatalist[33];
        String TotalKVAhADifference = todBilldatalist[34];
        String BillMdReading = todBilldatalist[35];
        String BillMdKVA = todBilldatalist[36];
        String AvgPf = todBilldatalist[37];
        String PowerOnHours = todBilldatalist[38];
        String Availability = todBilldatalist[39];
        String NormalHrsE1UnitsConsumed = todBilldatalist[40];
        String NormalHrsE1LtMetering = todBilldatalist[41];
        String NormalHrsE1PfRebate = todBilldatalist[42];
        String NormalHrsE1HtRebate = todBilldatalist[43];
        String NormalHrsE1UnitsBilled = todBilldatalist[44];
        String PeakHrsE2UnitsConsumed = todBilldatalist[45];
        String PeakHrsE2LtMetering = todBilldatalist[46];
        String PeakHrsE2PfRebate = todBilldatalist[47];
        String PeakHrsE2HtRebate = todBilldatalist[48];
        String PeakHrsE2UnitsBilled = todBilldatalist[49];
        String NightHrsE3UnitsConsumed = todBilldatalist[50];
        String NightHrsE3LtMetering = todBilldatalist[51];
        String NightHrsE3PfRebate = todBilldatalist[52];
        String NightHrsE3HtRebate = todBilldatalist[53];
        String NightHrsE3UnitsBilled = todBilldatalist[54];
        String TotalKWhUUnitsConsumed = todBilldatalist[55];
        String TotalKWhULtMetering = todBilldatalist[56];
        String TotalKWhUPfRebate = todBilldatalist[57];
        String TotalKWhUHtRebate = todBilldatalist[58];
        String TotalKWhUUnitsBilled = todBilldatalist[59];
        String E1UnitsBilled = todBilldatalist[60];
        String E1RsKWh = todBilldatalist[61];
        String E1BillingAmountToString = todBilldatalist[62];
        String E2UnitsBilled = todBilldatalist[63];
        String E2RsKWh = todBilldatalist[64];
        String E2BillingAmountToString = todBilldatalist[65];
        String E3UnitsBilled = todBilldatalist[66];
        String E3RsKWh = todBilldatalist[67];
        String E3BillingAmountToString = todBilldatalist[68];
        String TotalEnergyCharge = todBilldatalist[69];
        String FpaChargeRs = todBilldatalist[70];
        String fpaBillingAmountToString = todBilldatalist[71];
        String FixedChargeUnits = todBilldatalist[72];
        String FixedChargeRs = todBilldatalist[73];
        String fixedChargeBillingAmountToString = todBilldatalist[74];
        String ElectricityDuty = todBilldatalist[75];
        String MeterRent = todBilldatalist[76];
        String TransformerMDCharge = todBilldatalist[77];
        String OverdrawalPenalty = todBilldatalist[78];
        String AdjustmentOfPastBilling = todBilldatalist[79];
        String ChargesForDishonouredCheque = todBilldatalist[80];
        String ArrearPrinciapal = todBilldatalist[81];
        String ArrearSurcharge = todBilldatalist[82];
        String totalArrearToString = todBilldatalist[83];
        String CurrentSurchargeOnArrear = todBilldatalist[84];
        String AmountPayable = todBilldatalist[85];
        String totalOtherArrearToString = todBilldatalist[86];
        String totalInstallmentPendingToString = todBilldatalist[87];
        String Total = todBilldatalist[88];
        File file = new File("/sdcard/Download/" + (consumerNumer.replaceFirst("^0+(?!$)", "") + "_" + billNumber.replaceFirst("^0+(?!$)", "") + ".pdf"));
        try {
            OutputStream fileOutputStream = new FileOutputStream(file);
            Document document = new Document(PageSize.A4);
            try {
                document.setMargins(30.0f, 20.0f, 40.0f, 100.0f);
                document.setMarginMirroring(true);
                PdfWriter pdfWriter = PdfWriter.getInstance(document, fileOutputStream);
                Bitmap bmp = ((BitmapDrawable) getResources().getDrawable(R.drawable.apdclprepaidpaymentreceipt1)).getBitmap();
                OutputStream stream = new ByteArrayOutputStream();
                bmp.compress(CompressFormat.JPEG, 100, stream);
                Image image = Image.getInstance(stream.toByteArray());
                image.setAbsolutePosition(50.0f, 770.0f);
                image.scalePercent(50.0f);
                document.open();
                Font fontuniqueIDHeader = FontFactory.getFont("Arial", 9.0f, 1);
                Font fontboldHeader = FontFactory.getFont("Arial", (float) HtmlUtilities.DEFAULT_FONT_SIZE, 1);
                Font fontboldData = FontFactory.getFont("Arial", 8.0f, 1);
                Font fontboldDataHeader = FontFactory.getFont("Arial", 8.0f, 1);
                Font fontboldUnderLine = FontFactory.getFont("Arial", 8.0f, 5);
                Font fontboldUtilityCode = FontFactory.getFont("Arial", 5.0f);
                Font fontboldFooter = FontFactory.getFont("Arial", 10.0f, 1);
                float[] fArr = new float[2];
                PdfPTable pdfPTable = new PdfPTable(new float[]{0.1f, 0.9f});
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                PdfPCell pdfPCell = new PdfPCell(image);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPTable = new PdfPTable(new float[]{BaseField.BORDER_WIDTH_THIN});
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("ASEB III (Accounts) Form-1", fontboldHeader));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("ASSAM POWER DISTRIBUTION COMPANY LTD.", fontboldHeader));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Bill For Electricity Supply, APDCL", fontboldHeader));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPTable.addCell(pdfPTable);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldHeader));
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldHeader));
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldHeader));
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldHeader));
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                document.add(pdfPTable);
                float[] fArr2 = new float[2];
                fArr2 = new float[]{0.5f, 0.5f};
                pdfPTable = new PdfPTable(fArr2);
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("Name of Sub-division : " + NameOfSubDivision, fontboldData));
                pdfPCell.setBorder(0);
                pdfPCell.setHorizontalAlignment(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("       Old Consumer No : " + OldConsumerNo, fontboldData));
                pdfPCell.setBorder(0);
                pdfPCell.setHorizontalAlignment(2);
                pdfPTable.addCell(pdfPCell);
                document.add(pdfPTable);
                float[] fArr3 = new float[3];
                pdfPTable = new PdfPTable(new float[]{0.3f, 0.3f, 0.4f});
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("Bill No : " + BillNo, fontboldData));
                pdfPCell.setBorder(0);
                pdfPCell.setHorizontalAlignment(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Date of Bill : " + DateOfBill, fontboldData));
                pdfPCell.setBorder(0);
                pdfPCell.setHorizontalAlignment(2);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Due Date : " + DueDate, fontboldData));
                pdfPCell.setBorder(0);
                pdfPCell.setHorizontalAlignment(2);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Consumer No : " + CosnumerNo, fontboldData));
                pdfPCell.setBorder(0);
                pdfPCell.setHorizontalAlignment(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Period of Bill.      From : " + PeriodOfBillFrom, fontboldData));
                pdfPCell.setBorder(0);
                pdfPCell.setHorizontalAlignment(2);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("To : " + PeriodOfBillTo, fontboldData));
                pdfPCell.setBorder(0);
                pdfPCell.setHorizontalAlignment(2);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
                pdfPCell.setBorder(0);
                pdfPCell.setHorizontalAlignment(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
                pdfPCell.setBorder(0);
                pdfPCell.setHorizontalAlignment(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
                pdfPCell.setBorder(0);
                pdfPCell.setHorizontalAlignment(0);
                pdfPTable.addCell(pdfPCell);
                document.add(pdfPTable);
                pdfPTable = new PdfPTable(fArr2);
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("Name of Cosumer : " + NameOfConsumer, fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("No. Of Days : " + NoOfDays, fontboldData));
                pdfPCell.setBorder(15);
                pdfPCell.setHorizontalAlignment(0);
                pdfPTable.addCell(pdfPCell);
                document.add(pdfPTable);
                pdfPTable = new PdfPTable(fArr2);
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(15);
                pdfPCell = new PdfPCell(new Paragraph("Address :" + Address, fontboldData));
                pdfPCell.setBorder(15);
                pdfPCell.setHorizontalAlignment(0);
                pdfPTable.addCell(pdfPCell);
                pdfPTable = new PdfPTable(new float[]{BaseField.BORDER_WIDTH_THIN});
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("Meter No : " + MeterNo, fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Connected Load in Kw : " + ConnectedLoadInKw, fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Contracted Demand in Kw/KVA : " + ContractedDemandInKwKVA, fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPTable.addCell(pdfPTable);
                document.add(pdfPTable);
                float[] fArr4 = new float[3];
                pdfPTable = new PdfPTable(new float[]{0.25f, 0.25f, 0.5f});
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("Category : " + Category, fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Overall MF : " + OverallMF, fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("MD as per Meter Reading.... " + MdAsPerMeterReadingKVA + " .....KVA", fontboldData));
                pdfPCell.setBorder(12);
                pdfPCell.setHorizontalAlignment(0);
                pdfPTable.addCell(pdfPCell);
                document.add(pdfPTable);
                float[] fArr5 = new float[4];
                pdfPTable = new PdfPTable(new float[]{0.25f, 0.25f, 0.25f, 0.25f});
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("Meter Reading", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Present", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Previous", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Difference in Reading", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Normal KWh (E1)", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NormalKWhE1Present, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NormalKWhE1Previous, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NormalKWhE1Difference, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Peak KWh (E2)", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(PeakKWhE2Present, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(PeakKWhE2Previous, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(PeakKWhE2Difference, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Night KWh (E3)", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NightKWhE3Present, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NightKWhE3Previous, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NightKWhE3Difference, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Total KWh (U)", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(TotalKWhUPresent, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(TotalKWhUPrevious, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(TotalKWhUDifference, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Total KVAh (A)", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(TotalKVAhAPresent, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(TotalKVAhAPrevious, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(TotalKVAhADifference, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                document.add(pdfPTable);
                float[] fArr6 = new float[3];
                pdfPTable = new PdfPTable(new float[]{0.45f, 0.3f, 0.25f});
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("Bill MD Reading : " + BillMdReading, fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Bill MD (KVA) : " + BillMdKVA, fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("AVG PF :          " + AvgPf, fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                document.add(pdfPTable);
                pdfPTable = new PdfPTable(fArr2);
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("Power On Hours : " + PowerOnHours, fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("               Availability : " + Availability, fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                document.add(pdfPTable);
                float[] fArr7 = new float[6];
                pdfPTable = new PdfPTable(new float[]{0.2f, 0.15f, 0.15f, 0.16f, 0.17f, 0.17f});
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("Time Of Day", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Units Consumed", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("3% LT Metering", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("PF Penalty/Rebate", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("HT Rebate", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Units Billed", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Normal Hrs(E1)", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NormalHrsE1UnitsConsumed, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NormalHrsE1LtMetering, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NormalHrsE1PfRebate, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NormalHrsE1HtRebate, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NormalHrsE1UnitsBilled, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Peak Hrs(E2)", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(PeakHrsE2UnitsConsumed, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(PeakHrsE2LtMetering, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(PeakHrsE2PfRebate, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(PeakHrsE2HtRebate, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(PeakHrsE2UnitsBilled, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Night Hrs(E3)", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NightHrsE3UnitsConsumed, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NightHrsE3LtMetering, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NightHrsE3PfRebate, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NightHrsE3HtRebate, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(NightHrsE3UnitsBilled, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Total KWh (U)", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(TotalKWhUUnitsConsumed, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(TotalKWhULtMetering, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(TotalKWhUPfRebate, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(TotalKWhUHtRebate, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(TotalKWhUUnitsBilled, fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                document.add(pdfPTable);
                pdfPTable = new PdfPTable(fArr2);
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setFixedHeight(10.0f);
                pdfPCell.setBorder(8);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setFixedHeight(10.0f);
                pdfPCell.setBorder(8);
                pdfPTable.addCell(pdfPCell);
                document.add(pdfPTable);
                float[] fArr8 = new float[3];
                pdfPTable = new PdfPTable(new float[]{0.1f, 0.75f, 0.15f});
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("SI", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Billing Details", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Amount In INR", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("A", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("(i) For E1 =....." + E1UnitsBilled + "....KWh, @ Rs..." + E1RsKWh + "...../KWh", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(E1BillingAmountToString, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("(ii) For E2 =....." + E2UnitsBilled + "....KWh, @ Rs..." + E2RsKWh + "...../KWh", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(E2BillingAmountToString, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("(iii) For E3 =....." + E3UnitsBilled + "....KWh, @ Rs..." + E3RsKWh + "...../KWh", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(E3BillingAmountToString, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("B", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Total Energy Charge", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(TotalEnergyCharge, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("C", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("FPA Charge @ Rs...." + FpaChargeRs + "/unit for ........Units", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(fpaBillingAmountToString, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("D", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Fixed Charge for ....." + FixedChargeUnits + ".../KVA/Kw, @Rs..." + FixedChargeRs + ".../KW/KVA ", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(fixedChargeBillingAmountToString, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("E", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Electricity Duty", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(ElectricityDuty, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("F", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Meter Rent", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(MeterRent, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("G", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Transformer M&D Charge", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(TransformerMDCharge, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("H", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Overdrawal Penalty", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(OverdrawalPenalty, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("I", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Adjustment of past Billing/Load Security", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(AdjustmentOfPastBilling, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("J", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Misc. Arrears", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("K", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Charges for Dishonoured cheque / bank charges / other charges", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(ChargesForDishonouredCheque, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("L", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Arrear : (i) Principal  " + ArrearPrinciapal + "            (ii)Surcharge  " + ArrearSurcharge + "  ", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(totalArrearToString, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("M", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Current Surcharge on Arrear Principal", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(CurrentSurchargeOnArrear, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("N", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Current Installment", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("O", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Amount Payable : ", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(AmountPayable, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                document.add(pdfPTable);
                float[] fArr9 = new float[2];
                pdfPTable = new PdfPTable(new float[]{0.85f, 0.15f});
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("Other Arrears : Principal :                                 Surcharge :  ", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(totalOtherArrearToString, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Installment Pending :         Nos:                        Amount :           (Court Case)", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(totalInstallmentPendingToString, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(15);
                pdfPTable.addCell(pdfPCell);
                document.add(pdfPTable);
                float[] fArr10 = new float[4];
                pdfPTable = new PdfPTable(new float[]{0.15f, 0.55f, 0.15f, 0.15f});
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("Total", fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("" + Total, fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
                pdfPCell.setHorizontalAlignment(1);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
                pdfPCell.setHorizontalAlignment(2);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                document.add(pdfPTable);
                pdfPTable = new PdfPTable(new float[]{BaseField.BORDER_WIDTH_THIN});
                pdfPTable.setWidthPercentage(100.0f);
                pdfPTable.getDefaultCell().setBorder(0);
                pdfPCell = new PdfPCell(new Paragraph("Amount in words : Rupees" + numberToWord((int) Math.round(Double.parseDouble(Total))) + "Only.", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
                pdfPCell.setHorizontalAlignment(0);
                pdfPCell.setBorder(0);
                pdfPTable.addCell(pdfPCell);
                document.add(pdfPTable);
                Paragraph paragraph = new Paragraph();
                paragraph.add((Element) new Phrase("This bill has been downloaded from ", fontboldFooter));
                Anchor anchor = new Anchor("www.nayandeeptamuli.com", FontFactory.getFont("Arial", 10.0f, 4));
                anchor.setReference("http://www.nayandeeptamuli.com");
                paragraph.add((Element) anchor);
                paragraph.setAlignment(1);
                document.add(paragraph);
                document.close();
                Intent i = new Intent();
                i.setAction("android.intent.action.VIEW");
                i.setDataAndType(Uri.fromFile(file), "application/pdf");
                i.setFlags(1073741824);
                startActivity(i);
                new Handler().postDelayed(new Runnable() {
                    public void run() {
                        Toast.makeText(QuickViewBillActivity.this.getApplicationContext(), "PDF Generated", 0).show();
                    }
                }, 1000);
            } catch (Exception e) {
                ex = e;
                Document document2 = document;
            }
        } catch (Exception e2) {
            ex = e2;
            ex.printStackTrace();
        }
    }

    public String numberToWord(int number) {
        String answer = "";
        if (number == 0) {
            try {
                return "Zero";
            } catch (Exception e) {
                e.printStackTrace();
            }
        } else {
            String[] arr1 = new String[]{"One", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine", "Ten", "Eleven", "Twelve", "Thirteen", "Fourteen", "Fifteen", "Sixteen", "Seventeen", "Eighteen", "Nineteen"};
            String[] arr2 = new String[]{"Twenty", "Thirty", "Forty", "Fifty", "Sixty", "Seventy", "Eighty", "Ninety"};
            String[] unit = new String[]{"Arab", "Crore", "Lakh", "Thousand", "Hundred", ""};
            int[] factor = new int[]{1000000000, 10000000, 100000, PdfGraphics2D.AFM_DIVISOR, 100, 1};
            answer = "";
            if (number < 0) {
                answer = "Negative";
                number = -number;
            }
            for (int i = 0; i < factor.length; i++) {
                int quotient = number / factor[i];
                if (quotient > 0) {
                    if (quotient < 20) {
                        answer = answer + " " + arr1[quotient - 1];
                    } else {
                        int units = quotient % 10;
                        int tens = quotient / 10;
                        if (units > 0) {
                            answer = answer + " " + arr2[tens - 2] + " " + arr1[units - 1];
                        } else {
                            answer = answer + " " + arr2[tens - 2] + " ";
                        }
                    }
                    answer = answer + " " + unit[i];
                }
                number %= factor[i];
            }
            return answer;
        }
    }

    public void generateNTODBill(String ntodBilldataSet) {
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat("ddMMyyyy");
        simpleDateFormat = new SimpleDateFormat("dd/MM/yyyy");
        Date date = new Date();
        try {
            String[] nonTodDatalist = ntodBilldataSet.split("#");
            String type = nonTodDatalist[0];
            String billNumber = nonTodDatalist[1];
            String consumerNumer = nonTodDatalist[2];
            String NameOfSubDivision = nonTodDatalist[3];
            String OldConsumerNo = nonTodDatalist[4];
            String BillNo = nonTodDatalist[5];
            String DateOfBill = nonTodDatalist[6];
            String DueDate = nonTodDatalist[7];
            String CosnumerNo = nonTodDatalist[8];
            String PeriodOfBillFrom = nonTodDatalist[9];
            String PeriodOfBillTo = nonTodDatalist[10];
            String NameOfConsumer = nonTodDatalist[11];
            String Address = nonTodDatalist[12];
            String NoOfDays = nonTodDatalist[13];
            String Category = nonTodDatalist[14];
            String MeterNo = nonTodDatalist[15];
            String ConnectedLoadInKw = nonTodDatalist[16];
            String ContractedDemandInKwKVA = nonTodDatalist[17];
            String OverallMF = nonTodDatalist[18];
            String MdAsPerMeterReadingKVA = nonTodDatalist[19];
            String TotalKWhUPresent = nonTodDatalist[20];
            String TotalKWhUPrevious = nonTodDatalist[21];
            String TotalKWhUDifference = nonTodDatalist[22];
            String TotalKVAhAPresent = nonTodDatalist[23];
            String TotalKVAhAPrevious = nonTodDatalist[24];
            String TotalKVAhADifference = nonTodDatalist[25];
            String BillMdReading = nonTodDatalist[26];
            String BillMdKVA = nonTodDatalist[27];
            String AvgPf = nonTodDatalist[28];
            String NormalHrsE1UnitsConsumed = nonTodDatalist[29];
            String NormalHrsE1LtMetering = nonTodDatalist[30];
            String NormalHrsE1PfRebate = nonTodDatalist[31];
            String NormalHrsE1DTRPenalty = nonTodDatalist[32];
            String NormalHrsE1EMPRebate = nonTodDatalist[33];
            String NormalHrsE1HtRebate = nonTodDatalist[34];
            String NormalHrsE1UnitsBilled = nonTodDatalist[35];
            String DemandInRupees = nonTodDatalist[36];
            String E1RsKWh = nonTodDatalist[37];
            String E1BillingAmountToString = nonTodDatalist[38];
            String PeakHrsE2UnitsBilled = nonTodDatalist[39];
            String E2RsKWh = nonTodDatalist[40];
            String E2BillingAmountToString = nonTodDatalist[41];
            String NightHrsE3UnitsBilled = nonTodDatalist[42];
            String E3RsKWh = nonTodDatalist[43];
            String E3BillingAmountToString = nonTodDatalist[44];
            String BalancesubsidyUnits = nonTodDatalist[45];
            String BalancesubsidyTotal = nonTodDatalist[46];
            String TotalEnergyCharge = nonTodDatalist[47];
            String FpaChargeRs = nonTodDatalist[48];
            String fpaBillingAmountToString = nonTodDatalist[49];
            String FixedChargeUnits = nonTodDatalist[50];
            String FixedChargeRs = nonTodDatalist[51];
            String fixedChargeBillingAmountToString = nonTodDatalist[52];
            String ElectricityDuty = nonTodDatalist[53];
            String MeterRent = nonTodDatalist[54];
            String TransformerMDCharge = nonTodDatalist[55];
            String OverdrawalPenalty = nonTodDatalist[56];
            String AdjustmentOfPastBilling = nonTodDatalist[57];
            String ChargesForDishonouredCheque = nonTodDatalist[58];
            String ArrearPrinciapal = nonTodDatalist[59];
            String ArrearSurcharge = nonTodDatalist[60];
            String totalArrearToString = nonTodDatalist[61];
            String CurrentSurchargeOnArrear = nonTodDatalist[62];
            String RebateForTimelyPayment = nonTodDatalist[63];
            String AmountPayable = nonTodDatalist[64];
            String AmountPayableAfterDueDate = nonTodDatalist[65];
            String totalOtherArrearToString = nonTodDatalist[66];
            String Total = nonTodDatalist[67];
            File file = new File("/sdcard/Download/" + (consumerNumer.replaceFirst("^0+(?!$)", "") + "_" + billNumber.replaceFirst("^0+(?!$)", "") + ".pdf"));
            Bitmap bmp = ((BitmapDrawable) getResources().getDrawable(R.drawable.apdclprepaidpaymentreceipt1)).getBitmap();
            OutputStream stream = new ByteArrayOutputStream();
            bmp.compress(CompressFormat.JPEG, 100, stream);
            Image image = Image.getInstance(stream.toByteArray());
            image.setAbsolutePosition(50.0f, 770.0f);
            image.scalePercent(50.0f);
            OutputStream fileOutputStream = new FileOutputStream(file);
            Document document = new Document(PageSize.A4);
            document.setMargins(30.0f, 20.0f, 40.0f, 100.0f);
            document.setMarginMirroring(true);
            PdfWriter pdfWriter = PdfWriter.getInstance(document, fileOutputStream);
            document.open();
            Font fontuniqueIDHeader = FontFactory.getFont("Arial", 9.0f, 1);
            Font fontboldHeader = FontFactory.getFont("Arial", (float) HtmlUtilities.DEFAULT_FONT_SIZE, 1);
            Font fontboldData = FontFactory.getFont("Arial", 8.0f, 1);
            Font fontValueUnderline = FontFactory.getFont("Arial", 8.0f, 5);
            Font fontboldDataHeader = FontFactory.getFont("Arial", 8.0f, 1);
            Font fontboldUnderLine = FontFactory.getFont("Arial", 8.0f, 5);
            Font fontboldUtilityCode = FontFactory.getFont("Arial", 5.0f);
            Font fontboldFooter = FontFactory.getFont("Arial", 10.0f, 1);
            float[] fArr = new float[2];
            PdfPTable pdfPTable = new PdfPTable(new float[]{0.1f, 0.9f});
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            PdfPCell pdfPCell = new PdfPCell(image);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPTable = new PdfPTable(new float[]{BaseField.BORDER_WIDTH_THIN});
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            pdfPCell = new PdfPCell(new Paragraph("ASEB III (Accounts) Form-1", fontboldHeader));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("ASSAM POWER DISTRIBUTION COMPANY LTD.", fontboldHeader));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Bill For Electricity Supply, APDCL", fontboldHeader));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPTable.addCell(pdfPTable);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldHeader));
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldHeader));
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldHeader));
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldHeader));
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            document.add(pdfPTable);
            float[] fArr2 = new float[2];
            fArr2 = new float[]{0.5f, 0.5f};
            pdfPTable = new PdfPTable(fArr2);
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            pdfPCell = new PdfPCell(new Paragraph("Name of Sub-division : " + NameOfSubDivision, fontboldData));
            pdfPCell.setBorder(0);
            pdfPCell.setHorizontalAlignment(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Old Consumer No.: " + OldConsumerNo, fontboldData));
            pdfPCell.setBorder(0);
            pdfPCell.setHorizontalAlignment(2);
            pdfPTable.addCell(pdfPCell);
            document.add(pdfPTable);
            float[] fArr3 = new float[3];
            pdfPTable = new PdfPTable(new float[]{0.3f, 0.3f, 0.4f});
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            pdfPCell = new PdfPCell(new Paragraph("Bill No : " + BillNo, fontboldData));
            pdfPCell.setBorder(0);
            pdfPCell.setHorizontalAlignment(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Bill Date : " + DateOfBill, fontboldData));
            pdfPCell.setBorder(0);
            pdfPCell.setHorizontalAlignment(2);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Due Date : " + DueDate, fontboldData));
            pdfPCell.setBorder(0);
            pdfPCell.setHorizontalAlignment(2);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Consumer No : " + CosnumerNo, fontboldData));
            pdfPCell.setBorder(0);
            pdfPCell.setHorizontalAlignment(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Period of Bill.   From : " + PeriodOfBillFrom, fontboldData));
            pdfPCell.setBorder(0);
            pdfPCell.setHorizontalAlignment(2);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("To : " + PeriodOfBillTo, fontboldData));
            pdfPCell.setBorder(0);
            pdfPCell.setHorizontalAlignment(2);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
            pdfPCell.setBorder(0);
            pdfPCell.setHorizontalAlignment(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
            pdfPCell.setBorder(0);
            pdfPCell.setHorizontalAlignment(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
            pdfPCell.setBorder(0);
            pdfPCell.setHorizontalAlignment(0);
            pdfPTable.addCell(pdfPCell);
            document.add(pdfPTable);
            pdfPTable = new PdfPTable(fArr2);
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            pdfPCell = new PdfPCell(new Paragraph("Name of Cosumer : " + NameOfConsumer, fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
            pdfPCell.setBorder(15);
            pdfPCell.setHorizontalAlignment(0);
            pdfPTable.addCell(pdfPCell);
            document.add(pdfPTable);
            pdfPTable = new PdfPTable(fArr2);
            pdfPTable.setWidthPercentage(100.0f);
            pdfPCell.setBorder(15);
            pdfPCell = new PdfPCell(new Paragraph("Address :" + Address, fontboldData));
            pdfPCell.setBorder(15);
            pdfPCell.setHorizontalAlignment(0);
            pdfPTable.addCell(pdfPCell);
            pdfPTable = new PdfPTable(new float[]{BaseField.BORDER_WIDTH_THIN});
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            pdfPCell = new PdfPCell(new Paragraph("No of days : " + NoOfDays, fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Category : " + Category, fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Meter No : " + MeterNo, fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Connected Load in Kw : " + ConnectedLoadInKw, fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Contracted Demand in Kw/KVA : " + ContractedDemandInKwKVA, fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPTable.addCell(pdfPTable);
            document.add(pdfPTable);
            float[] fArr4 = new float[3];
            pdfPTable = new PdfPTable(new float[]{0.25f, 0.7f, 0.5f});
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            pdfPCell = new PdfPCell(new Paragraph("Overall MF : " + OverallMF, fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("MD as per Meter Reading.... " + MdAsPerMeterReadingKVA + " .....KVA", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
            pdfPCell.setBorder(12);
            pdfPCell.setHorizontalAlignment(0);
            pdfPTable.addCell(pdfPCell);
            document.add(pdfPTable);
            float[] fArr5 = new float[4];
            pdfPTable = new PdfPTable(new float[]{0.25f, 0.25f, 0.25f, 0.25f});
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            pdfPCell = new PdfPCell(new Paragraph("Meter Reading", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Present", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Previous", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Difference in Reading", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Total KWh (U)", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(TotalKWhUPresent, fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(TotalKWhUPrevious, fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(TotalKWhUDifference, fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Total KVAh (A)", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(TotalKVAhAPresent, fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(TotalKVAhAPrevious, fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(TotalKVAhADifference, fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            document.add(pdfPTable);
            float[] fArr6 = new float[3];
            pdfPTable = new PdfPTable(new float[]{0.45f, 0.3f, 0.25f});
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            pdfPCell = new PdfPCell(new Paragraph("Bill MD Reading(KVA) : " + BillMdReading, fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Bill MD (KVA) : " + BillMdKVA, fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(12);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("AVG PF :      " + AvgPf, fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            document.add(pdfPTable);
            float[] fArr7 = new float[7];
            pdfPTable = new PdfPTable(new float[]{0.15f, 0.15f, 0.15f, 0.15f, 0.15f, 0.15f, 0.1f});
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            pdfPCell = new PdfPCell(new Paragraph("Units Consumed", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("3% LT Metering", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("PF Penalty/Rebate", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("DTR Penalty", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("EMP Rebate", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("HT Rebate", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Units Billed", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(NormalHrsE1UnitsConsumed, fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(NormalHrsE1LtMetering, fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(NormalHrsE1PfRebate, fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(NormalHrsE1DTRPenalty, fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(NormalHrsE1EMPRebate, fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(NormalHrsE1HtRebate, fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(NormalHrsE1UnitsBilled, fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            document.add(pdfPTable);
            pdfPTable = new PdfPTable(fArr2);
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            pdfPCell = new PdfPCell(new Paragraph("Demand In Rs" + DemandInRupees, fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setFixedHeight(10.0f);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setFixedHeight(10.0f);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            document.add(pdfPTable);
            float[] fArr8 = new float[3];
            pdfPTable = new PdfPTable(new float[]{0.1f, 0.75f, 0.15f});
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            pdfPCell = new PdfPCell(new Paragraph("SL", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Details", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Amount In INR", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("A", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Unit Charge", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("(i) First...." + NormalHrsE1UnitsBilled + "....units @ Rs.." + E1RsKWh + " /Unit", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(E1BillingAmountToString, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("(ii) Next...." + PeakHrsE2UnitsBilled + "....units @ Rs.." + E2RsKWh + " /Unit", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(E2BillingAmountToString, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("(iii) Next...." + NightHrsE3UnitsBilled + "....units @ Rs.." + E3RsKWh + " /Unit", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(E3BillingAmountToString, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("(iv) Balance Less Govt. subsidy for " + BalancesubsidyUnits + " units", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(BalancesubsidyTotal, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("B", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Total Unit Charge", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(TotalEnergyCharge, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("C", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("FPPPA Charge @ Rs...." + FpaChargeRs + ".../unit", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(fpaBillingAmountToString, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("D", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Demand/Fixed Charge for ....." + FixedChargeUnits + ".../KVA/Kw, @Rs. " + FixedChargeRs + " ", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(fixedChargeBillingAmountToString, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("E", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Electricity Duty", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(ElectricityDuty, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("F", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Meter Rent", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(MeterRent, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("G", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Transformer M&D Charge", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(TransformerMDCharge, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("H", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Overdrawal Penalty", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(OverdrawalPenalty, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("I", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Adjustment of Past Billing/Load Security", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(AdjustmentOfPastBilling, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("J", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Misc. Arrears", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("K", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Charges for dishonoured cheque / bank charges / other charges", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(ChargesForDishonouredCheque, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("L", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Arrear : (i) Principal  " + ArrearPrinciapal + "            (ii)Surcharge  " + ArrearSurcharge + "  ", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(totalArrearToString, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("M", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Current Surcharge", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(CurrentSurchargeOnArrear, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("N", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Current Installment", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("O", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Rebate for Timely payment on (B) : ", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(RebateForTimelyPayment, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("P", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Amount Payable on or before Due Date : ", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(AmountPayable, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Q", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Amount Payable after Due Date  : ", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(AmountPayableAfterDueDate, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            document.add(pdfPTable);
            float[] fArr9 = new float[2];
            pdfPTable = new PdfPTable(new float[]{0.85f, 0.15f});
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            pdfPCell = new PdfPCell(new Paragraph("Other Arrears : Principal :                                 Surcharge :        ", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(totalOtherArrearToString, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Installment Pending :           NOS:                     Amount:                 (Court Case).", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(15);
            pdfPTable.addCell(pdfPCell);
            document.add(pdfPTable);
            float[] fArr10 = new float[4];
            pdfPTable = new PdfPTable(new float[]{0.15f, 0.55f, 0.15f, 0.15f});
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("Total", fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("" + Total, fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
            pdfPCell.setHorizontalAlignment(1);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
            pdfPCell.setHorizontalAlignment(2);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph(" ", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            document.add(pdfPTable);
            pdfPTable = new PdfPTable(new float[]{BaseField.BORDER_WIDTH_THIN});
            pdfPTable.setWidthPercentage(100.0f);
            pdfPTable.getDefaultCell().setBorder(0);
            pdfPCell = new PdfPCell(new Paragraph("Amount in words : Rupees" + numberToWord((int) Math.round(Double.parseDouble(Total))) + "Only.", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            pdfPCell = new PdfPCell(new Paragraph("", fontboldData));
            pdfPCell.setHorizontalAlignment(0);
            pdfPCell.setBorder(0);
            pdfPTable.addCell(pdfPCell);
            document.add(pdfPTable);
            Paragraph paragraph = new Paragraph();
            paragraph.add((Element) new Phrase("This bill has been downloaded from ", fontboldFooter));
            Anchor anchor = new Anchor("www.nayandeeptamuli.com", FontFactory.getFont("Arial", 10.0f, 4));
            anchor.setReference("http://www.nayandeeptamuli.com");
            paragraph.add((Element) anchor);
            paragraph.setAlignment(1);
            document.add(paragraph);
            document.close();
            Intent i = new Intent();
            i.setAction("android.intent.action.VIEW");
            i.setDataAndType(Uri.fromFile(file), "application/pdf");
            i.setFlags(1073741824);
            startActivity(i);
            new Handler().postDelayed(new Runnable() {
                public void run() {
                    Toast.makeText(QuickViewBillActivity.this.getApplicationContext(), "PDF Generated", 0).show();
                }
            }, 1000);
        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }

    public boolean validate() {
        String conId = ((EditText) findViewById(R.id.input_conid)).getText().toString();
        String installation = ((EditText) findViewById(R.id.input_install)).getText().toString();
        if (conId.isEmpty()) {
            ((EditText) findViewById(R.id.input_conid)).setError("Please provide the Consumer Id");
            return false;
        } else if (conId.trim().length() < 11) {
            ((EditText) findViewById(R.id.input_conid)).setError("Consumer Id must be 11 digit or 12 digit");
            return false;
        } else if (conId == null || conId.trim().length() == 12 || !installation.isEmpty()) {
            ((EditText) findViewById(R.id.input_install)).setError(null);
            return true;
        } else {
            ((EditText) findViewById(R.id.input_install)).setError("Please provide the Installaion Number");
            return false;
        }
    }
}
